# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [High Issues](#high-issues)
  - [H-1: Reentrancy: State change after external call](#h-1-reentrancy-state-change-after-external-call)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk](#l-1-centralization-risk)
  - [L-2: Unsafe ERC20 Operation](#l-2-unsafe-erc20-operation)
  - [L-3: Unspecific Solidity Pragma](#l-3-unspecific-solidity-pragma)
  - [L-4: Address State Variable Set Without Checks](#l-4-address-state-variable-set-without-checks)
  - [L-5: Public Function Not Used Internally](#l-5-public-function-not-used-internally)
  - [L-6: Literal Instead of Constant](#l-6-literal-instead-of-constant)
  - [L-7: `nonReentrant` is Not the First Modifier](#l-7-nonreentrant-is-not-the-first-modifier)
  - [L-8: PUSH0 Opcode](#l-8-push0-opcode)
  - [L-9: Large Numeric Literal](#l-9-large-numeric-literal)
  - [L-10: Local Variable Shadows State Variable](#l-10-local-variable-shadows-state-variable)
  - [L-11: Unused Import](#l-11-unused-import)
  - [L-12: State Variable Could Be Constant](#l-12-state-variable-could-be-constant)
  - [L-13: State Change Without Event](#l-13-state-change-without-event)
  - [L-14: State Variable Could Be Immutable](#l-14-state-variable-could-be-immutable)
  - [L-15: Unchecked Return](#l-15-unchecked-return)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 6 |
| Total nSLOC | 631 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| src/FixedContracts/SecureGovernance.sol | 174 |
| src/FixedContracts/SecureRewardDistributor.sol | 127 |
| src/FixedContracts/SecureVault.sol | 89 |
| src/VulnerableGovernance.sol | 88 |
| src/VulnerableRewarddistributor.sol | 80 |
| src/VulnerableVault.sol | 73 |
| **Total** | **631** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 1 |
| Low | 15 |


# High Issues

## H-1: Reentrancy: State change after external call

Changing state after an external call can lead to re-entrancy attacks.Use the checks-effects-interactions pattern to avoid this issue.

<details><summary>14 Found Instances</summary>


- Found in src/FixedContracts/SecureGovernance.sol [Line: 79](src/FixedContracts/SecureGovernance.sol#L79)

	State is changed at: `uint256 proposalId = proposalCount++`, `proposal.proposer = msg.sender`, `proposal.target = target`, `proposal.data = data`, `proposal.startBlock = block.number + votingDelay`, `proposal.endBlock = block.number + votingDelay + votingPeriod`
	```solidity
	        require(
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 116](src/FixedContracts/SecureGovernance.sol#L116)

	State is changed at: `proposal.hasVoted[msg.sender] = true`, `proposal.forVotes += votes`, `proposal.againstVotes += votes`
	```solidity
	        uint256 votes = governanceToken.getPastVotes(
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 200](src/FixedContracts/SecureGovernance.sol#L200)

	State is changed at: `proposal.canceled = true`
	```solidity
	            require(
	```

- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 161](src/FixedContracts/SecureRewardDistributor.sol#L161)

	State is changed at: `lastUpdateTime = block.timestamp`, `periodFinish = block.timestamp + rewardsDuration`
	```solidity
	        require(
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 160](src/FixedContracts/SecureVault.sol#L160)

	State is changed at: `totalAssets = 0`
	```solidity
	        uint256 balance = asset.balanceOf(address(this));
	```

- Found in src/VulnerableGovernance.sol [Line: 55](src/VulnerableGovernance.sol#L55)

	State is changed at: `uint256 proposalId = proposalCount++`, `proposal.proposer = msg.sender`, `proposal.target = target`, `proposal.data = data`, `proposal.startBlock = block.number`, `proposal.endBlock = block.number + votingPeriod`
	```solidity
	        require(
	```

- Found in src/VulnerableGovernance.sol [Line: 85](src/VulnerableGovernance.sol#L85)

	State is changed at: `proposal.hasVoted[msg.sender] = true`, `proposal.forVotes += votes`, `proposal.againstVotes += votes`
	```solidity
	        uint256 votes = governanceToken.balanceOf(msg.sender);
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 89](src/VulnerableRewarddistributor.sol#L89)

	State is changed at: `totalStaked += amount`, `balances[msg.sender] += amount`
	```solidity
	        stakingToken.transferFrom(msg.sender, address(this), amount);
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 106](src/VulnerableRewarddistributor.sol#L106)

	State is changed at: `rewards[msg.sender] = 0`
	```solidity
	        require(rewardToken.transfer(msg.sender, reward), "Transfer failed");
	```

- Found in src/VulnerableVault.sol [Line: 51](src/VulnerableVault.sol#L51)

	State is changed at: `totalAssets += assets`
	```solidity
	        require(asset.transferFrom(msg.sender, address(this), assets), "Transfer failed");
	```

- Found in src/VulnerableVault.sol [Line: 71](src/VulnerableVault.sol#L71)

	State is changed at: `totalAssets -= assets`
	```solidity
	        require(asset.transfer(msg.sender, assets), "Transfer failed");
	```

- Found in src/VulnerableVault.sol [Line: 142](src/VulnerableVault.sol#L142)

	State is changed at: `totalAssets += amount`
	```solidity
	        require(asset.transferFrom(msg.sender, address(this), amount), "Transfer failed");
	```

- Found in src/VulnerableVault.sol [Line: 151](src/VulnerableVault.sol#L151)

	State is changed at: `totalAssets = 0`
	```solidity
	        uint256 balance = asset.balanceOf(address(this));
	```

- Found in src/VulnerableVault.sol [Line: 152](src/VulnerableVault.sol#L152)

	State is changed at: `totalAssets = 0`
	```solidity
	        require(asset.transfer(msg.sender, balance), "Transfer failed");
	```

</details>



# Low Issues

## L-1: Centralization Risk

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details><summary>10 Found Instances</summary>


- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 13](src/FixedContracts/SecureRewardDistributor.sol#L13)

	```solidity
	contract SecureRewardsDistributor is ReentrancyGuard, Ownable {
	```

- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 144](src/FixedContracts/SecureRewardDistributor.sol#L144)

	```solidity
	    function setRewardRate(uint256 newRate) external onlyOwner updateReward(address(0)) {
	```

- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 149](src/FixedContracts/SecureRewardDistributor.sol#L149)

	```solidity
	    function notifyRewardAmount(uint256 reward) external onlyOwner updateReward(address(0)) {
	```

- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 172](src/FixedContracts/SecureRewardDistributor.sol#L172)

	```solidity
	    function setRewardsDuration(uint256 duration) external onlyOwner {
	```

- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 180](src/FixedContracts/SecureRewardDistributor.sol#L180)

	```solidity
	    function emergencyWithdrawRewards(address token, uint256 amount) external onlyOwner {
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 19](src/FixedContracts/SecureVault.sol#L19)

	```solidity
	contract SecureVault is ERC20, ReentrancyGuard, Ownable {
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 116](src/FixedContracts/SecureVault.sol#L116)

	```solidity
	    function collectFees() external onlyOwner nonReentrant {
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 134](src/FixedContracts/SecureVault.sol#L134)

	```solidity
	    function setPerformanceFee(uint256 newFee) external onlyOwner {
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 143](src/FixedContracts/SecureVault.sol#L143)

	```solidity
	    function setFeeRecipient(address newRecipient) external onlyOwner {
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 157](src/FixedContracts/SecureVault.sol#L157)

	```solidity
	    function emergencyWithdraw(address recipient) external onlyOwner nonReentrant {
	```

</details>



## L-2: Unsafe ERC20 Operation

ERC20 functions may not behave as expected. For example: return values are not always meaningful. It is recommended to use OpenZeppelin's SafeERC20 library.

<details><summary>14 Found Instances</summary>


- Found in src/FixedContracts/SecureVault.sol [Line: 64](src/FixedContracts/SecureVault.sol#L64)

	```solidity
	            asset.transferFrom(msg.sender, address(this), assets),
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 87](src/FixedContracts/SecureVault.sol#L87)

	```solidity
	        require(asset.transfer(msg.sender, assets), "Transfer failed");
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 126](src/FixedContracts/SecureVault.sol#L126)

	```solidity
	        require(asset.transfer(feeRecipient, feeAmount), "Fee transfer failed");
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 163](src/FixedContracts/SecureVault.sol#L163)

	```solidity
	        require(asset.transfer(recipient, balance), "Transfer failed");
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 89](src/VulnerableRewarddistributor.sol#L89)

	```solidity
	        stakingToken.transferFrom(msg.sender, address(this), amount);
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 106](src/VulnerableRewarddistributor.sol#L106)

	```solidity
	        require(rewardToken.transfer(msg.sender, reward), "Transfer failed");
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 125](src/VulnerableRewarddistributor.sol#L125)

	```solidity
	        stakingToken.transfer(msg.sender, amount);
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 151](src/VulnerableRewarddistributor.sol#L151)

	```solidity
	        stakingToken.transfer(msg.sender, balance);
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 159](src/VulnerableRewarddistributor.sol#L159)

	```solidity
	        require(rewardToken.transferFrom(msg.sender, address(this), reward), "Transfer failed");
	```

- Found in src/VulnerableVault.sol [Line: 51](src/VulnerableVault.sol#L51)

	```solidity
	        require(asset.transferFrom(msg.sender, address(this), assets), "Transfer failed");
	```

- Found in src/VulnerableVault.sol [Line: 71](src/VulnerableVault.sol#L71)

	```solidity
	        require(asset.transfer(msg.sender, assets), "Transfer failed");
	```

- Found in src/VulnerableVault.sol [Line: 120](src/VulnerableVault.sol#L120)

	```solidity
	            require(asset.transfer(msg.sender, feeAmount), "Fee transfer failed");
	```

- Found in src/VulnerableVault.sol [Line: 142](src/VulnerableVault.sol#L142)

	```solidity
	        require(asset.transferFrom(msg.sender, address(this), amount), "Transfer failed");
	```

- Found in src/VulnerableVault.sol [Line: 152](src/VulnerableVault.sol#L152)

	```solidity
	        require(asset.transfer(msg.sender, balance), "Transfer failed");
	```

</details>



## L-3: Unspecific Solidity Pragma

Consider using a specific version of Solidity in your contracts instead of a wide version. For example, instead of `pragma solidity ^0.8.0;`, use `pragma solidity 0.8.0;`

<details><summary>6 Found Instances</summary>


- Found in src/FixedContracts/SecureGovernance.sol [Line: 2](src/FixedContracts/SecureGovernance.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 2](src/FixedContracts/SecureRewardDistributor.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 2](src/FixedContracts/SecureVault.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

- Found in src/VulnerableGovernance.sol [Line: 2](src/VulnerableGovernance.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 2](src/VulnerableRewarddistributor.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

- Found in src/VulnerableVault.sol [Line: 2](src/VulnerableVault.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

</details>



## L-4: Address State Variable Set Without Checks

Check for `address(0)` when assigning values to address state variables.

<details><summary>2 Found Instances</summary>


- Found in src/FixedContracts/SecureVault.sol [Line: 44](src/FixedContracts/SecureVault.sol#L44)

	```solidity
	        feeRecipient = _feeRecipient;
	```

- Found in src/VulnerableGovernance.sol [Line: 46](src/VulnerableGovernance.sol#L46)

	```solidity
	        governanceToken = IERC20(_governanceToken);
	```

</details>



## L-5: Public Function Not Used Internally

If a function is marked public but is not used internally, consider marking it as `external`.

<details><summary>4 Found Instances</summary>


- Found in src/FixedContracts/SecureGovernance.sol [Line: 250](src/FixedContracts/SecureGovernance.sol#L250)

	```solidity
	    function state(uint256 proposalId) public view returns (uint8) {
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 169](src/FixedContracts/SecureVault.sol#L169)

	```solidity
	    function maxDeposit(address) public pure returns (uint256) {
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 176](src/FixedContracts/SecureVault.sol#L176)

	```solidity
	    function maxWithdraw(address owner) public view returns (uint256) {
	```

- Found in src/VulnerableGovernance.sol [Line: 148](src/VulnerableGovernance.sol#L148)

	```solidity
	    function getVotes(address account) public view returns (uint256) {
	```

</details>



## L-6: Literal Instead of Constant

Define and use `constant` variables instead of using literals. If the same constant literal value is used multiple times, create a constant state variable and reference it throughout the contract.

<details><summary>12 Found Instances</summary>


- Found in src/FixedContracts/SecureGovernance.sol [Line: 171](src/FixedContracts/SecureGovernance.sol#L171)

	```solidity
	            block.timestamp <= proposal.eta + 14 days,
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 259](src/FixedContracts/SecureGovernance.sol#L259)

	```solidity
	        if (totalVotes < quorumVotes) return 3; // Defeated - no quorum
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 260](src/FixedContracts/SecureGovernance.sol#L260)

	```solidity
	        if (proposal.forVotes <= proposal.againstVotes) return 3; // Defeated
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 262](src/FixedContracts/SecureGovernance.sol#L262)

	```solidity
	        if (block.timestamp < proposal.eta) return 5; // Queued
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 263](src/FixedContracts/SecureGovernance.sol#L263)

	```solidity
	        if (block.timestamp > proposal.eta + 14 days) return 6; // Expired
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 265](src/FixedContracts/SecureGovernance.sol#L265)

	```solidity
	        return 5; // Queued - ready to execute
	```

- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 63](src/FixedContracts/SecureRewardDistributor.sol#L63)

	```solidity
	            (((lastTimeRewardApplicable() - lastUpdateTime) * rewardRate * 1e18) / totalStaked);
	```

- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 68](src/FixedContracts/SecureRewardDistributor.sol#L68)

	```solidity
	            (rewardPerToken() - userRewardPerTokenPaid[account])) / 1e18 +
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 55](src/VulnerableRewarddistributor.sol#L55)

	```solidity
	            (((block.timestamp - lastUpdateTime) * rewardRate * 1e18) / totalStaked);
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 64](src/VulnerableRewarddistributor.sol#L64)

	```solidity
	            (rewardPerToken() - userRewardPerTokenPaid[account])) / 1e18 +
	```

- Found in src/VulnerableVault.sol [Line: 116](src/VulnerableVault.sol#L116)

	```solidity
	        uint256 feeAmount = (totalAssets * performanceFee) / 10000;
	```

- Found in src/VulnerableVault.sol [Line: 131](src/VulnerableVault.sol#L131)

	```solidity
	        require(newFee <= 10000, "Fee too high");
	```

</details>



## L-7: `nonReentrant` is Not the First Modifier

To protect against reentrancy in other modifiers, the `nonReentrant` modifier should be the first modifier in the list of modifiers.

<details><summary>2 Found Instances</summary>


- Found in src/FixedContracts/SecureVault.sol [Line: 116](src/FixedContracts/SecureVault.sol#L116)

	```solidity
	    function collectFees() external onlyOwner nonReentrant {
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 157](src/FixedContracts/SecureVault.sol#L157)

	```solidity
	    function emergencyWithdraw(address recipient) external onlyOwner nonReentrant {
	```

</details>



## L-8: PUSH0 Opcode

Solc compiler version 0.8.20 switches the default target EVM version to Shanghai, which means that the generated bytecode will include PUSH0 opcodes. Be sure to select the appropriate EVM version in case you intend to deploy on a chain other than mainnet like L2 chains that may not support PUSH0, otherwise deployment of your contracts will fail.

<details><summary>6 Found Instances</summary>


- Found in src/FixedContracts/SecureGovernance.sol [Line: 2](src/FixedContracts/SecureGovernance.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 2](src/FixedContracts/SecureRewardDistributor.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 2](src/FixedContracts/SecureVault.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

- Found in src/VulnerableGovernance.sol [Line: 2](src/VulnerableGovernance.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 2](src/VulnerableRewarddistributor.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

- Found in src/VulnerableVault.sol [Line: 2](src/VulnerableVault.sol#L2)

	```solidity
	pragma solidity ^0.8.30;
	```

</details>



## L-9: Large Numeric Literal

Large literal values multiples of 10000 can be replaced with scientific notation.Use `e` notation, for example: `1e18`, instead of its full numeric value.

<details><summary>3 Found Instances</summary>


- Found in src/FixedContracts/SecureVault.sol [Line: 24](src/FixedContracts/SecureVault.sol#L24)

	```solidity
	    uint256 private constant FEE_DENOMINATOR = 10000;
	```

- Found in src/VulnerableVault.sol [Line: 116](src/VulnerableVault.sol#L116)

	```solidity
	        uint256 feeAmount = (totalAssets * performanceFee) / 10000;
	```

- Found in src/VulnerableVault.sol [Line: 131](src/VulnerableVault.sol#L131)

	```solidity
	        require(newFee <= 10000, "Fee too high");
	```

</details>



## L-10: Local Variable Shadows State Variable

Rename the local variable that shadows another state variable.

<details><summary>4 Found Instances</summary>


- Found in src/FixedContracts/SecureVault.sol [Line: 39](src/FixedContracts/SecureVault.sol#L39)

	```solidity
	        string memory _name,
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 40](src/FixedContracts/SecureVault.sol#L40)

	```solidity
	        string memory _symbol,
	```

- Found in src/VulnerableVault.sol [Line: 34](src/VulnerableVault.sol#L34)

	```solidity
	        string memory _name,
	```

- Found in src/VulnerableVault.sol [Line: 35](src/VulnerableVault.sol#L35)

	```solidity
	        string memory _symbol
	```

</details>



## L-11: Unused Import

Redundant import statement. Consider removing it.

<details><summary>2 Found Instances</summary>


- Found in src/FixedContracts/SecureGovernance.sol [Line: 4](src/FixedContracts/SecureGovernance.sol#L4)

	```solidity
	import "@openzeppelin/contracts/token/ERC20/IERC20.sol";
	```

- Found in src/VulnerableVault.sol [Line: 6](src/VulnerableVault.sol#L6)

	```solidity
	import "@openzeppelin/contracts/utils/ReentrancyGuard.sol";
	```

</details>



## L-12: State Variable Could Be Constant

State variables that are not updated following deployment should be declared constant to save gas. Add the `constant` attribute to state variables that never change.

<details><summary>1 Found Instances</summary>


- Found in src/VulnerableGovernance.sol [Line: 36](src/VulnerableGovernance.sol#L36)

	```solidity
	    uint256 public proposalThreshold = 1000e18; // 1000 tokens to propose
	```

</details>



## L-13: State Change Without Event

There are state variable changes in this function but no event is emitted. Consider emitting an event to enable offchain indexers to track the changes.

<details><summary>17 Found Instances</summary>


- Found in src/FixedContracts/SecureGovernance.sol [Line: 213](src/FixedContracts/SecureGovernance.sol#L213)

	```solidity
	    function setVotingDelay(uint256 newDelay) external onlyAdmin {
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 218](src/FixedContracts/SecureGovernance.sol#L218)

	```solidity
	    function setVotingPeriod(uint256 newPeriod) external onlyAdmin {
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 223](src/FixedContracts/SecureGovernance.sol#L223)

	```solidity
	    function setProposalThreshold(uint256 newThreshold) external onlyAdmin {
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 228](src/FixedContracts/SecureGovernance.sol#L228)

	```solidity
	    function setQuorum(uint256 newQuorum) external onlyAdmin {
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 236](src/FixedContracts/SecureGovernance.sol#L236)

	```solidity
	    function setPendingAdmin(address newAdmin) external onlyAdmin {
	```

- Found in src/FixedContracts/SecureGovernance.sol [Line: 241](src/FixedContracts/SecureGovernance.sol#L241)

	```solidity
	    function acceptAdmin() external {
	```

- Found in src/FixedContracts/SecureRewardDistributor.sol [Line: 144](src/FixedContracts/SecureRewardDistributor.sol#L144)

	```solidity
	    function setRewardRate(uint256 newRate) external onlyOwner updateReward(address(0)) {
	```

- Found in src/FixedContracts/SecureVault.sol [Line: 157](src/FixedContracts/SecureVault.sol#L157)

	```solidity
	    function emergencyWithdraw(address recipient) external onlyOwner nonReentrant {
	```

- Found in src/VulnerableGovernance.sol [Line: 127](src/VulnerableGovernance.sol#L127)

	```solidity
	    function cancel(uint256 proposalId) external {
	```

- Found in src/VulnerableGovernance.sol [Line: 143](src/VulnerableGovernance.sol#L143)

	```solidity
	    function delegate(address delegatee) external {
	```

- Found in src/VulnerableGovernance.sol [Line: 156](src/VulnerableGovernance.sol#L156)

	```solidity
	    function setVotingPeriod(uint256 newPeriod) external {
	```

- Found in src/VulnerableGovernance.sol [Line: 164](src/VulnerableGovernance.sol#L164)

	```solidity
	    function setQuorum(uint256 newQuorum) external {
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 133](src/VulnerableRewarddistributor.sol#L133)

	```solidity
	    function setRewardRate(uint256 newRate) external {
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 142](src/VulnerableRewarddistributor.sol#L142)

	```solidity
	    function emergencyWithdraw() external {
	```

- Found in src/VulnerableVault.sol [Line: 129](src/VulnerableVault.sol#L129)

	```solidity
	    function setPerformanceFee(uint256 newFee) external {
	```

- Found in src/VulnerableVault.sol [Line: 139](src/VulnerableVault.sol#L139)

	```solidity
	    function donateToVault(uint256 amount) external {
	```

- Found in src/VulnerableVault.sol [Line: 149](src/VulnerableVault.sol#L149)

	```solidity
	    function emergencyWithdraw() external {
	```

</details>



## L-14: State Variable Could Be Immutable

State variables that are only changed in the constructor should be declared immutable to save gas. Add the `immutable` attribute to state variables that are only changed in the constructor

<details><summary>3 Found Instances</summary>


- Found in src/VulnerableGovernance.sol [Line: 17](src/VulnerableGovernance.sol#L17)

	```solidity
	    IERC20 public governanceToken;
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 31](src/VulnerableRewarddistributor.sol#L31)

	```solidity
	    address public owner;
	```

- Found in src/VulnerableVault.sol [Line: 25](src/VulnerableVault.sol#L25)

	```solidity
	    address public admin;
	```

</details>



## L-15: Unchecked Return

Function returns a value but it is ignored. Consider checking the return value.

<details><summary>3 Found Instances</summary>


- Found in src/VulnerableRewarddistributor.sol [Line: 89](src/VulnerableRewarddistributor.sol#L89)

	```solidity
	        stakingToken.transferFrom(msg.sender, address(this), amount);
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 125](src/VulnerableRewarddistributor.sol#L125)

	```solidity
	        stakingToken.transfer(msg.sender, amount);
	```

- Found in src/VulnerableRewarddistributor.sol [Line: 151](src/VulnerableRewarddistributor.sol#L151)

	```solidity
	        stakingToken.transfer(msg.sender, balance);
	```

</details>



